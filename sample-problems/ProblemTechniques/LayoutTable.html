<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>LayoutTable.pg</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script
		src="https://cdn.jsdelivr.net/npm/@openwebwork/pg-codemirror-editor@0.0.5/dist/pg-codemirror-editor.js"
		defer></script>
	<link rel="stylesheet" href="https://openwebwork.github.io/pg-docs/sample-problems/sample-problem.css">
</head>


<body>
	<div class="container-fluid p-3">
		<div class="row">
			<div class="col">
				<h1>Layout Table</h1>
				<p>This shows how to use LayoutTable for layout.</p>
			</div>
			<div class="col text-end">
				<a href="https://openwebwork.github.io/pg-docs/sample-problems/../">Return to the PG docs home</a>
</div>
		</div>
		<div class="row">
			<div class="col">
				<h2>Complete Code</h2>
				<p>Download file: <a href="LayoutTable.pg">LayoutTable.pg</a></p>
</div>
				<div class="col">
					<h2>POD for Macro Files</h2>
					<ul>
								<li><a href="https://openwebwork.github.io/pg-docs/pod/pg/macros/graph/PGtikz.html">PGtikz.pl</a></li>
					</ul>
				</div>
			<div class="col">
				<h2>See Also</h2>
				<ul>
					<li>
						<a href="https://openwebwork.github.io/pg-docs/sample-problems/ProblemTechniques/DataTables.html">
Data Table						</a>
					</li>
				</ul>
			</div>
		</div>
		<div class="row">
			<div class="col text-center"><h2 class="fw-bold fs-3">PG problem file</h2></div>
			<div class="col text-center"><h2 class="fw-bold fs-3">Explanation</h2></div>
		</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="DOCUMENT();
loadMacros(&#39;PGstandard.pl&#39;, &#39;PGML.pl&#39;, &#39;PGtikz.pl&#39;, &#39;PGcourse.pl&#39;);
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">DOCUMENT();
loadMacros(&#39;PGstandard.pl&#39;, &#39;PGML.pl&#39;, &#39;PGtikz.pl&#39;, &#39;PGcourse.pl&#39;);
</pre>
				</div>
				<div class="explanation preamble col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Preamble</b></p>
						<p>This shows how to use the <code>LayoutTable</code> function in <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/niceTables.html">niceTables.pl</a>.
Note that the <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/niceTables.html">niceTables.pl</a>
macro is automatically loaded by <code>PGML.pl</code>, so it is not
necessary to load it explicitly.</p>
<p>The <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/graph/PGtikz.html">PGtikz.pl</a>
macro is also used in this example to demonstrate inserting a
dynamically generated image into a table.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="$a   = random(0, 3);
$ans = Compute(&quot;x^2 + $a&quot;)-&gt;reduce;

$graph = createTikZImage();
$graph-&gt;tikzLibraries(&#39;arrows.meta&#39;);
$graph-&gt;BEGIN_TIKZ
\tikzset{&gt;={Stealth[scale = 1.5]}}
\filldraw[
    draw = LightBlue,
    fill = white,
    rounded corners = 10pt,
    thick,
    use as bounding box
] (-6, 7) rectangle (6, -1);
\draw[-&gt;, thick] (-6, 0) -- (6, 0) node[above left, outer sep = 3pt] {\(x\)};
\foreach \x in {-5, ..., -1, 1, 2, ..., 5}
    \draw(\x, 5pt) -- (\x, -5pt) node[below] {\(\x\)};
\draw[-&gt;, thick] (0, -1) -- (0, 7) node[below right, outer sep = 3pt] {\(y\)};
\foreach \y in {1, ..., 6}
    \draw (5pt, \y) -- (-5pt, \y) node[left] {\(\y\)};
\draw[blue, ultra thick] plot[domain = -2.5:2.5, smooth] (\x, {\x * \x + $a});
END_TIKZ

$altText =
    &quot;graph of a parabola with vertex at (0, $a) and &quot;
    . &#39;passing through the point (1, &#39;
    . ($a + 1) . &#39;)&#39;;
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">$a   = random(0, 3);
$ans = Compute(&quot;x^2 + $a&quot;)-&gt;reduce;

$graph = createTikZImage();
$graph-&gt;tikzLibraries(&#39;arrows.meta&#39;);
$graph-&gt;BEGIN_TIKZ
\tikzset{&gt;={Stealth[scale = 1.5]}}
\filldraw[
    draw = LightBlue,
    fill = white,
    rounded corners = 10pt,
    thick,
    use as bounding box
] (-6, 7) rectangle (6, -1);
\draw[-&gt;, thick] (-6, 0) -- (6, 0) node[above left, outer sep = 3pt] {\(x\)};
\foreach \x in {-5, ..., -1, 1, 2, ..., 5}
    \draw(\x, 5pt) -- (\x, -5pt) node[below] {\(\x\)};
\draw[-&gt;, thick] (0, -1) -- (0, 7) node[below right, outer sep = 3pt] {\(y\)};
\foreach \y in {1, ..., 6}
    \draw (5pt, \y) -- (-5pt, \y) node[left] {\(\y\)};
\draw[blue, ultra thick] plot[domain = -2.5:2.5, smooth] (\x, {\x * \x + $a});
END_TIKZ

$altText =
    &quot;graph of a parabola with vertex at (0, $a) and &quot;
    . &#39;passing through the point (1, &#39;
    . ($a + 1) . &#39;)&#39;;
</pre>
				</div>
				<div class="explanation setup col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Setup</b></p>
						<p>A <code>LayoutTable</code> is meant to be used for layout, i.e., to
organize various HTML elements nicely for display. It is not meant to be
used to display organized data. If a table that displays organized data
is needed use <code>DataTable</code> instead. See <a
href="https://openwebwork.github.io/pg-docs/sample-problems/ProblemTechniques/DataTables.html">Data
Table</a> for an example of the usage of the <code>DataTable</code>
method.</p>
<p>Typically the <code>PGML</code> syntax for a <code>DataTable</code>
should be used as is done in this example. However, the result of
calling <code>DataTable</code> could also be used. It is called as
follows.</p>
<div class="sourceCode" id="datatable"><pre
class="sourceCode perl"><code class="sourceCode perl"><span id="datatable-1"><a href="#datatable-1" aria-hidden="true" tabindex="-1"></a><span class="dt">$table</span> = LayoutTable(</span>
<span id="datatable-2"><a href="#datatable-2" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="datatable-3"><a href="#datatable-3" aria-hidden="true" tabindex="-1"></a>        [row1],</span>
<span id="datatable-4"><a href="#datatable-4" aria-hidden="true" tabindex="-1"></a>        [row2],</span>
<span id="datatable-5"><a href="#datatable-5" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="datatable-6"><a href="#datatable-6" aria-hidden="true" tabindex="-1"></a>        [rowN]</span>
<span id="datatable-7"><a href="#datatable-7" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="datatable-8"><a href="#datatable-8" aria-hidden="true" tabindex="-1"></a>    options</span>
<span id="datatable-9"><a href="#datatable-9" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
<p>where the data goes in as an array reference of array references.
Some of the <code>DataTable</code> options are demonstrated here, but
the full list of options and explanation of there usage is in <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/niceTables.html">the
niceTables.pl documentation</a></p>
<p>Then the table would be inserted into the problem text by adding
<code>[$table]*</code> in the desired location inside the
<code>BEGIN_PGML/END_PGML</code> block.</p>
<p>In this example a table with one row and two columns is created. The
primary text of the problem and answer will be in the left column, and
the image will be displayed in the right column. In the setup the answer
and the image are defined.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="BEGIN_PGML
[#
    [.
        A common situation is that there is a problem with a graph and
        the problem is in the left column and the graph is in the right
        column.

        This even works with an equation like [`e^{i\pi} + 1 = 0`].

        Answer rules can also be added.

        A formula for the function graphed on the right is
        [`f(x) =`] [_]{$ans}{10}.
    .]
    [.[![$altText]!]{$graph}{400}{ image_options =&gt; { tex_size =&gt; 600 } }.]
#]*{ align =&gt; &#39;lc&#39; }
END_PGML
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">BEGIN_PGML
[#
    [.
        A common situation is that there is a problem with a graph and
        the problem is in the left column and the graph is in the right
        column.

        This even works with an equation like [`e^{i\pi} + 1 = 0`].

        Answer rules can also be added.

        A formula for the function graphed on the right is
        [`f(x) =`] [_]{$ans}{10}.
    .]
    [.[![$altText]!]{$graph}{400}{ image_options =&gt; { tex_size =&gt; 600 } }.]
#]*{ align =&gt; &#39;lc&#39; }
END_PGML
</pre>
				</div>
				<div class="explanation statement col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Statement</b></p>
						<p>The <code>PGML</code> syntax for inserting a <code>LayoutTable</code>
is <code>[# ... #]*{ options }</code>. Note that it is the
<code>*</code> after <code>#]</code> that makes this a
<code>LayoutTable</code> as opposed to a <code>DataTable</code>. In
between <code>[#</code> and <code>#]*</code> any number of cells can be
added with <code>[. ... .]</code>. The end of a row is marked by adding
a <code>*</code> to the end of the last cell in the row (the
<code>*</code> can be omitted on the last row and since this example
only has one row, none of these are needed). Inside of a cell started
with <code>[.</code> and ended with <code>.]</code> all of the usual
<code>PGML</code> syntax can be used.</p>
<p>Options can also be passed to a cell with
<code>[. ... .]{ options }</code>. This example does not use any cell
options.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="ANS($ans-&gt;cmp);
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">ANS($ans-&gt;cmp);
</pre>
				</div>
				<div class="explanation answer col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Answer</b></p>
						<p>Since <code>ans_rule</code> is used to produce answer blanks, this in
needed.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="BEGIN_PGML_SOLUTION
Solution explanation goes here.
END_PGML_SOLUTION

ENDDOCUMENT();" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">BEGIN_PGML_SOLUTION
Solution explanation goes here.
END_PGML_SOLUTION

ENDDOCUMENT();</pre>
				</div>
				<div class="explanation solution col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Solution</b></p>
						A solution should be provided here.
				</div>
			</div>
	</div>

	<script type="module">
		for (const pre of document.body.querySelectorAll('pre.PGCodeMirror')) {
			PGCodeMirrorEditor.runMode(pre.textContent, pre);
		}

		for (const btn of document.querySelectorAll('.clipboard-btn')) {
			if (navigator.clipboard)
				btn.addEventListener('click', () => navigator.clipboard.writeText(btn.dataset.code));
			else btn?.remove();
		}
	</script>
</body>

</html>
