<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>GraphsInTables.pg</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script
		src="https://cdn.jsdelivr.net/npm/@openwebwork/pg-codemirror-editor@0.0.5/dist/pg-codemirror-editor.js"
		defer></script>
	<link rel="stylesheet" href="https://openwebwork.github.io/pg-docs/sample-problems/sample-problem.css">
</head>


<body>
	<div class="container-fluid p-3">
		<div class="row">
			<div class="col">
				<h1>Graphs in a Table</h1>
				<p>Creating a set of graphs and displaying the options in a table.</p>
			</div>
			<div class="col text-end">
				<a href="https://openwebwork.github.io/pg-docs/sample-problems/../">Return to the PG docs home</a>
</div>
		</div>
		<div class="row">
			<div class="col">
				<h2>Complete Code</h2>
				<p>Download file: <a href="GraphsInTables.pg">GraphsInTables.pg</a></p>
</div>
				<div class="col">
					<h2>POD for Macro Files</h2>
					<ul>
								<li><a href="https://openwebwork.github.io/pg-docs/pod/pg/macros/graph/PGtikz.html">PGtikz.pl</a></li>
								<li><a href="https://openwebwork.github.io/pg-docs/pod/pg/macros/parsers/parserPopUp.html">parserPopUp.pl</a></li>
								<li><a href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/PGchoicemacros.html">PGchoicemacros.pl</a></li>
					</ul>
				</div>
		</div>
		<div class="row">
			<div class="col text-center"><h2 class="fw-bold fs-3">PG problem file</h2></div>
			<div class="col text-center"><h2 class="fw-bold fs-3">Explanation</h2></div>
		</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="DOCUMENT();

loadMacros(
    &#39;PGstandard.pl&#39;,     &#39;PGML.pl&#39;,
    &#39;PGtikz.pl&#39;,         &#39;parserPopUp.pl&#39;,
    &#39;PGchoicemacros.pl&#39;, &#39;PGcourse.pl&#39;
);
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">DOCUMENT();

loadMacros(
    &#39;PGstandard.pl&#39;,     &#39;PGML.pl&#39;,
    &#39;PGtikz.pl&#39;,         &#39;parserPopUp.pl&#39;,
    &#39;PGchoicemacros.pl&#39;, &#39;PGcourse.pl&#39;
);
</pre>
				</div>
				<div class="explanation preamble col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Preamble</b></p>
						<p>The <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/graph/PGtikz.html">PGtikz.pl</a>
macro is used to generate the graph, the <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/parsers/parserPopUp.html">parserPopUp.pl</a>
macro is used for a pop up (select) answer, the <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/niceTables.html">niceTables.pl</a>
macro (loaded automatically via <code>PGML.pl</code>) is used for
layout, and the <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/PGchoicemacros.html">PGchoicemacros.pl</a>
macro provides the <code>shuffle</code> and <code>invert</code>
functions.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="
@eqn_plot = (&#39;-exp(\x)&#39;, &#39;exp(-\x)&#39;, &#39;-exp(-\x)&#39;, &#39;exp(\x)&#39;);

# The tex form of the functions.
@eqn = (&#39;y = -e^{x}&#39;, &#39;y = e^{-x}&#39;, &#39;y = -e^{-x}&#39;, &#39;y = e^{x}&#39;);

# Alternate text for each image.
@alt_text = (
    &#39;A graph that starts close to and below the x-axis on the left &#39;
        . &#39;and decreases to the right, decreasing more rapidly as &#39;
        . &#39;it continues to the right.&#39;,
    &#39;A graph that starts in the extreme upper left and decreases toward the &#39;
        . &#39;x-axis, decreasing less rapidly as it continues to the right.&#39;,
    &#39;A graph that starts in the extreme lower left and increases toward the &#39;
        . &#39;x-axis, increasing less rapidly as it continues to the right.&#39;,
    &#39;A graph that starts close to and above the x-axis on the left, &#39;
        . &#39;and increases to the right, increasing more rapidly as &#39;
        . &#39;it continues to the right.&#39;,
);

for my $i (0 .. 3) {
    $graph[$i] = createTikZImage();
    $graph[$i]-&gt;tikzLibraries(&#39;arrows.meta&#39;);
    $graph[$i]-&gt;BEGIN_TIKZ
\tikzset{&gt;={Stealth[scale = 1.5]}}
\filldraw[
    draw = LightBlue,
    fill = white,
    rounded corners = 10pt,
    thick,
    use as bounding box
] (-3, -3) rectangle (3, 3);
\draw[-&gt;] (-3, 0) -- (3, 0) node[above left, outer sep = 3pt] {\(x\)};
\draw[-&gt;] (0, -3) -- (0, 3) node[below right, outer sep = 3pt] {\(y\)};
\draw[DarkBlue, thick] plot [smooth, domain = -3:3]
    (\x, {$eqn_plot[$i]});
END_TIKZ
}

$k = random(0, 3);

@perm     = shuffle(4);
@graph    = @graph[@perm];
@alt_text = @alt_text[@perm];
@inv      = invert(@perm);

@letters = (&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;);
$popup   = DropDown(~~@letters, $letters[ $inv[$k] ]);
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">
@eqn_plot = (&#39;-exp(\x)&#39;, &#39;exp(-\x)&#39;, &#39;-exp(-\x)&#39;, &#39;exp(\x)&#39;);

# The tex form of the functions.
@eqn = (&#39;y = -e^{x}&#39;, &#39;y = e^{-x}&#39;, &#39;y = -e^{-x}&#39;, &#39;y = e^{x}&#39;);

# Alternate text for each image.
@alt_text = (
    &#39;A graph that starts close to and below the x-axis on the left &#39;
        . &#39;and decreases to the right, decreasing more rapidly as &#39;
        . &#39;it continues to the right.&#39;,
    &#39;A graph that starts in the extreme upper left and decreases toward the &#39;
        . &#39;x-axis, decreasing less rapidly as it continues to the right.&#39;,
    &#39;A graph that starts in the extreme lower left and increases toward the &#39;
        . &#39;x-axis, increasing less rapidly as it continues to the right.&#39;,
    &#39;A graph that starts close to and above the x-axis on the left, &#39;
        . &#39;and increases to the right, increasing more rapidly as &#39;
        . &#39;it continues to the right.&#39;,
);

for my $i (0 .. 3) {
    $graph[$i] = createTikZImage();
    $graph[$i]-&gt;tikzLibraries(&#39;arrows.meta&#39;);
    $graph[$i]-&gt;BEGIN_TIKZ
\tikzset{&gt;={Stealth[scale = 1.5]}}
\filldraw[
    draw = LightBlue,
    fill = white,
    rounded corners = 10pt,
    thick,
    use as bounding box
] (-3, -3) rectangle (3, 3);
\draw[-&gt;] (-3, 0) -- (3, 0) node[above left, outer sep = 3pt] {\(x\)};
\draw[-&gt;] (0, -3) -- (0, 3) node[below right, outer sep = 3pt] {\(y\)};
\draw[DarkBlue, thick] plot [smooth, domain = -3:3]
    (\x, {$eqn_plot[$i]});
END_TIKZ
}

$k = random(0, 3);

@perm     = shuffle(4);
@graph    = @graph[@perm];
@alt_text = @alt_text[@perm];
@inv      = invert(@perm);

@letters = (&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;);
$popup   = DropDown(~~@letters, $letters[ $inv[$k] ]);
</pre>
				</div>
				<div class="explanation setup col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Setup</b></p>
						<p>First, <code>@eqn_plot</code>, <code>@eqn</code>,
<code>@alt_text</code>, and <code>@graph</code> arrays are defined
containing the form of each equation for the TikZ graph, the TeX form of
each equation, alternate text descriptions of the graphs for
accessibility, and the TikZ graph for each equation. Because the graphs
are shuffled and the correct graph picked randomly, the four arrays must
be in the same order. Then one equation is picked at random (using
<code>$k</code>) to be the correct choice. The graphs are shuffled using
a permutation, and the inverse permutation used to recall the correct
answer in the answer evaluation section.</p>
<p>If, instead, there were six graphs and it were desired to organize
the graphs into three columns the <code>tex_size</code> would need to be
adjusted. However, you are strongly discouraged from using more than
three columns of graphs, because the graphs would need to be scaled down
so much that they would become unreadable (especially in TeX mode).</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="BEGIN_PGML
Consider the exponential equation [`[$eqn[$k]]`].  Sketch a graph of this
equation on paper without using a calculator.

Which graph below most closely matches the graph you drew? [_]{$popup}

[#
    [.
        [#
            [.A.]*
            [.[![$alt_text[0]]!]{$graph[0]}.]
        #]*{ padding =&gt; [ 0, 0.1 ] }
    .]
    [.
        [#
            [.B.]*
            [.[![$alt_text[1]]!]{$graph[1]}.]
        #]*{ padding =&gt; [ 0, 0.1 ] }
    .]*

    [.
        [#
            [.C.]*
            [.[![$alt_text[2]]!]{$graph[2]}.]
        #]*{ padding =&gt; [ 0, 0.1 ] }
    .]
    [.
        [#
            [.D.]*
            [.[![$alt_text[3]]!]{$graph[3]}.]
        #]*{ padding =&gt; [ 0, 0.1 ] }
    .]
#]*{ align =&gt; &#39;cc&#39; }
&gt;&gt;(Click on a graph to enlarge it.)&lt;&lt;
END_PGML
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">BEGIN_PGML
Consider the exponential equation [`[$eqn[$k]]`].  Sketch a graph of this
equation on paper without using a calculator.

Which graph below most closely matches the graph you drew? [_]{$popup}

[#
    [.
        [#
            [.A.]*
            [.[![$alt_text[0]]!]{$graph[0]}.]
        #]*{ padding =&gt; [ 0, 0.1 ] }
    .]
    [.
        [#
            [.B.]*
            [.[![$alt_text[1]]!]{$graph[1]}.]
        #]*{ padding =&gt; [ 0, 0.1 ] }
    .]*

    [.
        [#
            [.C.]*
            [.[![$alt_text[2]]!]{$graph[2]}.]
        #]*{ padding =&gt; [ 0, 0.1 ] }
    .]
    [.
        [#
            [.D.]*
            [.[![$alt_text[3]]!]{$graph[3]}.]
        #]*{ padding =&gt; [ 0, 0.1 ] }
    .]
#]*{ align =&gt; &#39;cc&#39; }
&gt;&gt;(Click on a graph to enlarge it.)&lt;&lt;
END_PGML
</pre>
				</div>
				<div class="explanation statement col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Statement</b></p>
						<p>The <code>LayoutTable</code> method provided by <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/niceTables.html">niceTables.pl</a>
is used via its <code>PGML</code> syntax to organize the graphs into
columns. See <a
href="https://openwebwork.github.io/pg-docs/sample-problems/ProblemTechniques/LayoutTable.html">Layout
Table</a> for a more detailed example of how to do this.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="BEGIN_PGML_SOLUTION
Solution explanation goes here.
END_PGML_SOLUTION

ENDDOCUMENT();" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">BEGIN_PGML_SOLUTION
Solution explanation goes here.
END_PGML_SOLUTION

ENDDOCUMENT();</pre>
				</div>
				<div class="explanation solution col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Solution</b></p>
						A solution should be provided here.
				</div>
			</div>
	</div>

	<script type="module">
		for (const pre of document.body.querySelectorAll('pre.PGCodeMirror')) {
			PGCodeMirrorEditor.runMode(pre.textContent, pre);
		}

		for (const btn of document.querySelectorAll('.clipboard-btn')) {
			if (navigator.clipboard)
				btn.addEventListener('click', () => navigator.clipboard.writeText(btn.dataset.code));
			else btn?.remove();
		}
	</script>
</body>

</html>
