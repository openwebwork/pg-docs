<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SeriesTest.pg</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script
		src="https://cdn.jsdelivr.net/npm/@openwebwork/pg-codemirror-editor@0.0.5/dist/pg-codemirror-editor.js"
		defer></script>
	<link rel="stylesheet" href="https://openwebwork.github.io/pg-docs/sample-problems/sample-problem.css">
</head>


<body>
	<div class="container-fluid p-3">
		<div class="row">
			<div class="col">
				<h1>Series Test</h1>
				<p>Series: limit comparison test</p>
			</div>
			<div class="col text-end">
				<a href="https://openwebwork.github.io/pg-docs/sample-problems/../">Return to the PG docs home</a>
</div>
		</div>
		<div class="row">
			<div class="col">
				<h2>Complete Code</h2>
				<p>Download file: <a href="SeriesTest.pg">SeriesTest.pg</a></p>
</div>
				<div class="col">
					<h2>POD for Macro Files</h2>
					<ul>
								<li><a href="https://openwebwork.github.io/pg-docs/pod/pg/macros/parsers/parserPopUp.html">parserPopUp.pl</a></li>
								<li><a href="https://openwebwork.github.io/pg-docs/pod/pg/macros/core/PGgraders.html">PGgraders.pl</a></li>
								<li><a href="https://openwebwork.github.io/pg-docs/pod/pg/macros/parsers/parserMultiAnswer.html">parserMultiAnswer.pl</a></li>
								<li><a href="https://openwebwork.github.io/pg-docs/pod/pg/macros/parsers/parserRadioMultiAnswer.html">parserRadioMultiAnswer.pl</a></li>
					</ul>
				</div>
		</div>
		<div class="row">
			<div class="col text-center"><h2 class="fw-bold fs-3">PG problem file</h2></div>
			<div class="col text-center"><h2 class="fw-bold fs-3">Explanation</h2></div>
		</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="DOCUMENT();

loadMacros(
    &#39;PGstandard.pl&#39;,        &#39;PGML.pl&#39;,
    &#39;parserPopUp.pl&#39;,       &#39;PGgraders.pl&#39;,
    &#39;parserMultiAnswer.pl&#39;, &#39;parserRadioMultiAnswer.pl&#39;,
    &#39;PGcourse.pl&#39;
);
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">DOCUMENT();

loadMacros(
    &#39;PGstandard.pl&#39;,        &#39;PGML.pl&#39;,
    &#39;parserPopUp.pl&#39;,       &#39;PGgraders.pl&#39;,
    &#39;parserMultiAnswer.pl&#39;, &#39;parserRadioMultiAnswer.pl&#39;,
    &#39;PGcourse.pl&#39;
);
</pre>
				</div>
				<div class="explanation preamble col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Preamble</b></p>
						<p>The <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/parsers/parserMultiAnswer.html">parserMultiAnswer.pl</a>
macro is used for the fraction answer so that the numerator and
denominator can be checked together.</p>
<p>The <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/parsers/parserRadioMultiAnswer.html">parserRadioMultiAnswer.pl</a>
macro is used for a better way for students to enter an answer that
might not exist than telling students to enter DNE.</p>
<p>The <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/niceTables.html">niceTables.pl</a>
macro which is loaded by the <code>PGML.pl</code> macro is used to
create a table in which answer blanks are stacked on top of each other
to form a fraction.</p>
<p>The <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/core/PGgraders.html">PGgraders.pl</a>
macro is used to give incremental partial credit (although that is a
poor choice for this problem).</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="Context()-&gt;variables-&gt;are(n =&gt; &#39;Real&#39;);

$a = random(2, 9);
$b = random(2, 9);
$c = random(5, 20);
$d = random(3, 9);
$e = random(2, 9);

$num1 = Formula(&quot;$a n^$d + $b n^&quot; . ($d - 1));
$den1 = Formula(&quot;$c n^$d + $e&quot;);

# Alternate form of the correct answer
$num2 = Formula(&quot;$a + $b / n&quot;);
$den2 = Formula(&quot;$c + $e / (n^$d)&quot;);

$multians = MultiAnswer($num1, $den1)-&gt;with(
    singleResult =&gt; 0,
    checker      =&gt; sub {
        my ($correct, $student, $ansHash) = @_;
        my ($stu1, $stu2) = @{$student};

        if (($num1 == $stu1 &amp;&amp; $den1 == $stu2)
            || ($num2 == $stu1 &amp;&amp; $den2 == $stu2))
        {
            return [ 1, 1 ];
        } elsif (($num1 == $stu1 &amp;&amp; $den2 == $stu2)
            || ($num2 == $stu1 &amp;&amp; $den1 == $stu2))
        {
            $ansHash-&gt;setMessage(1, &quot;Check your algebra&quot;);
            $ansHash-&gt;setMessage(2, &quot;Check your algebra&quot;);
            return [ 0, 0 ];
        } elsif ($num1 == $stu1 || $num2 == $stu1) {
            return [ 1, 0 ];
        } elsif ($den1 == $stu2 || $den2 == $stu2) {
            return [ 0, 1 ];
        } else {
            return [ 0, 0 ];
        }
    }
);

$limitRMA = RadioMultiAnswer(
    [
        [
            &#39;\(\displaystyle\lim_{n \to \infty}\frac{a_n}{b_n} =\) %s&#39;,
            Formula(&quot;$a / $c&quot;)
        ],
        [&#39;The limit does not exist, and is not infinite.&#39;]
    ],
    0
);

$popup = DropDown([ &#39;Converges&#39;, &#39;Diverges&#39;, &#39;Inconclusive&#39; ], &#39;Converges&#39;);
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">Context()-&gt;variables-&gt;are(n =&gt; &#39;Real&#39;);

$a = random(2, 9);
$b = random(2, 9);
$c = random(5, 20);
$d = random(3, 9);
$e = random(2, 9);

$num1 = Formula(&quot;$a n^$d + $b n^&quot; . ($d - 1));
$den1 = Formula(&quot;$c n^$d + $e&quot;);

# Alternate form of the correct answer
$num2 = Formula(&quot;$a + $b / n&quot;);
$den2 = Formula(&quot;$c + $e / (n^$d)&quot;);

$multians = MultiAnswer($num1, $den1)-&gt;with(
    singleResult =&gt; 0,
    checker      =&gt; sub {
        my ($correct, $student, $ansHash) = @_;
        my ($stu1, $stu2) = @{$student};

        if (($num1 == $stu1 &amp;&amp; $den1 == $stu2)
            || ($num2 == $stu1 &amp;&amp; $den2 == $stu2))
        {
            return [ 1, 1 ];
        } elsif (($num1 == $stu1 &amp;&amp; $den2 == $stu2)
            || ($num2 == $stu1 &amp;&amp; $den1 == $stu2))
        {
            $ansHash-&gt;setMessage(1, &quot;Check your algebra&quot;);
            $ansHash-&gt;setMessage(2, &quot;Check your algebra&quot;);
            return [ 0, 0 ];
        } elsif ($num1 == $stu1 || $num2 == $stu1) {
            return [ 1, 0 ];
        } elsif ($den1 == $stu2 || $den2 == $stu2) {
            return [ 0, 1 ];
        } else {
            return [ 0, 0 ];
        }
    }
);

$limitRMA = RadioMultiAnswer(
    [
        [
            &#39;\(\displaystyle\lim_{n \to \infty}\frac{a_n}{b_n} =\) %s&#39;,
            Formula(&quot;$a / $c&quot;)
        ],
        [&#39;The limit does not exist, and is not infinite.&#39;]
    ],
    0
);

$popup = DropDown([ &#39;Converges&#39;, &#39;Diverges&#39;, &#39;Inconclusive&#39; ], &#39;Converges&#39;);
</pre>
				</div>
				<div class="explanation setup col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Setup</b></p>
						<p>Create <code>$multians</code> as a <code>MultiAnswer</code> with the
two answers <code>$num1</code> and <code>$den1</code>. An alternate form
of the correct answer is <code>$num2 / $den2</code>. This alternate form
is also checked for in the <code>MultiAnswer</code> checker.</p>
<p>The value of the limit in the limit comparison test is created as a
<code>RadioMultiAnswer</code>. This allows a clear way for students to
enter a non-existent limit, and is better than telling students to enter
DNE and results in the invalid statement <code>lim ... = DNE</code>.</p>
<p>Also create a drop down answer for asking about convergence of the
series.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="BEGIN_PGML
Use the limit comparison test to determine whether
[``\sum_{n = [$c]}^{\infty} a_n
    = \sum_{n = [$c]}^{\infty} \frac{[$a] n + [$b]}{[$c] n^{[$d]} + [$e]}``]
converges or diverges.

Choose a series [``\sum_{n = [$c]}^\infty b_n``] with terms of the form
[``b_n = \frac{1}{n^p}``] to use in the limit comparison test.

a. Simplify the fraction [``\frac{a_n}{b_n}``] in the application of the limit
comparison test shown. Give your answer as a fully reduced fraction.
[#
    [.
        For [`n \geq [$c]`],
           [``\lim_{n \to \infty}\frac{a_n}{b_n} = \lim_{n \to \infty}``]
    .]
    [.
        [#
            [.[_]{$multians}{10}.]*{ bottom =&gt; 1 }
            [.[_]{$multians}{10}.]
        #]*{ padding =&gt; [ 0.5, 0 ] }
    .]
#]*{
    center     =&gt; 0,
    valign     =&gt; &#39;middle&#39;,
    allcellcss =&gt; { padding =&gt; &#39;4pt&#39; }
}

b. Evaluate the limit in the previous part. Enter [|infinity|]* for [` \infty `]
and [|-infinity|]* for [`-\infty`].

    [_]{$limitRMA}{10}

c. By the limit comparison test, does the series converge, diverge, or is the
test inconclusive? [_]{$popup}
END_PGML
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">BEGIN_PGML
Use the limit comparison test to determine whether
[``\sum_{n = [$c]}^{\infty} a_n
    = \sum_{n = [$c]}^{\infty} \frac{[$a] n + [$b]}{[$c] n^{[$d]} + [$e]}``]
converges or diverges.

Choose a series [``\sum_{n = [$c]}^\infty b_n``] with terms of the form
[``b_n = \frac{1}{n^p}``] to use in the limit comparison test.

a. Simplify the fraction [``\frac{a_n}{b_n}``] in the application of the limit
comparison test shown. Give your answer as a fully reduced fraction.
[#
    [.
        For [`n \geq [$c]`],
           [``\lim_{n \to \infty}\frac{a_n}{b_n} = \lim_{n \to \infty}``]
    .]
    [.
        [#
            [.[_]{$multians}{10}.]*{ bottom =&gt; 1 }
            [.[_]{$multians}{10}.]
        #]*{ padding =&gt; [ 0.5, 0 ] }
    .]
#]*{
    center     =&gt; 0,
    valign     =&gt; &#39;middle&#39;,
    allcellcss =&gt; { padding =&gt; &#39;4pt&#39; }
}

b. Evaluate the limit in the previous part. Enter [|infinity|]* for [` \infty `]
and [|-infinity|]* for [`-\infty`].

    [_]{$limitRMA}{10}

c. By the limit comparison test, does the series converge, diverge, or is the
test inconclusive? [_]{$popup}
END_PGML
</pre>
				</div>
				<div class="explanation statement col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Statement</b></p>
						<p>Display the answer rules nicely as a fraction in HTML and TeX modes
by using the <code>PGML</code> syntax for a <code>LayoutTable</code>
from <a
href="https://openwebwork.github.io/pg-docs/pod/pg/macros/ui/niceTables.html">niceTables.pl</a>.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="install_problem_grader(~~&amp;custom_problem_grader_fluid);

$ENV{grader_numright} = [ 2,   4 ];
$ENV{grader_scores}   = [ 0.4, 1 ];
$ENV{grader_message} =
    &#39;You can earn 40% partial credit for 2 - 3 correct answers.&#39;;
" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">install_problem_grader(~~&amp;custom_problem_grader_fluid);

$ENV{grader_numright} = [ 2,   4 ];
$ENV{grader_scores}   = [ 0.4, 1 ];
$ENV{grader_message} =
    &#39;You can earn 40% partial credit for 2 - 3 correct answers.&#39;;
</pre>
				</div>
				<div class="explanation answer col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Answer</b></p>
						<p>The problem grader fluid is used to give partial credit
incrementally.</p>
<ul>
<li>0% is awarded for 0-1 correct answers,</li>
<li>40% is awarded for 2-3 correct answers, and</li>
<li>full credit is awarded for 4 correct answers.</li>
</ul>
<p>This is only here to demonstrate the usage of the fluid problem
grader, and because that is how this problem has been. It would be
better to use weights with the default <code>avg_problem_grader</code>
for a problem like this. The parts of this problem are not equal, so the
fluid problem grader is not a good choice.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-6 order-md-first order-last p-0 position-relative overflow-x-hidden">
					<button class="clipboard-btn btn btn-sm btn-secondary position-absolute top-0 end-0 me-1 mt-1 z-1"
						type="button" data-code="BEGIN_PGML_SOLUTION
Solution explanation goes here.
END_PGML_SOLUTION

ENDDOCUMENT();" aria-label="copy to clipboard">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-clipboard-fill" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
						</svg>
					</button>
					<pre class="PGCodeMirror m-0 h-100 p-3 border border-secondary overflow-x-scroll">BEGIN_PGML_SOLUTION
Solution explanation goes here.
END_PGML_SOLUTION

ENDDOCUMENT();</pre>
				</div>
				<div class="explanation solution col-sm-12 col-md-6 order-md-last order-first p-3 border border-dark">
					<p><b>Solution</b></p>
						A solution should be provided here.
				</div>
			</div>
	</div>

	<script type="module">
		for (const pre of document.body.querySelectorAll('pre.PGCodeMirror')) {
			PGCodeMirrorEditor.runMode(pre.textContent, pre);
		}

		for (const btn of document.querySelectorAll('.clipboard-btn')) {
			if (navigator.clipboard)
				btn.addEventListener('click', () => navigator.clipboard.writeText(btn.dataset.code));
			else btn?.remove();
		}
	</script>
</body>

</html>
