<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset='UTF-8'>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>WeBWorK::Utils::CourseDirectoryIntegrityCheck</title>
	<link rel="shortcut icon" href="/favicon.ico">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://openwebwork.github.io/pg-docs/pod/assets/podviewer.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
	<script src="https://openwebwork.github.io/pg-docs/pod/assets/podviewer.js" defer></script>
</head>
<body>
	<div class="pod-header navbar navbar-dark bg-primary px-3 position-fixed border-bottom border-dark">
		<div class="container-fluid d-flex flex-column d-md-block">
			<h1 class="navbar-brand fw-bold fs-5 me-auto me-md-0 mb-2 mb-md-0">WeBWorK::Utils::CourseDirectoryIntegrityCheck</h1>
			<button class="navbar-toggler d-md-none me-auto" type="button" data-bs-toggle="offcanvas"
				data-bs-target="#sidebar" aria-controls="sidebar" aria-label="Toggle Sidebar">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
	</div>
	<aside class="offcanvas-md offcanvas-start border-end border-dark position-fixed" tabindex="-1"
		id="sidebar" aria-labelledby="sidebar-label">
		<div class="offcanvas-header">
			<h2 class="offcanvas-title" id="sidebar-label">Index</h2>
			<button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#sidebar"
			   	aria-label="Close">
			</button>
		</div>
		<div class="offcanvas-body p-md-3 w-100">
			<nav>
				<ul class="nav flex-column w-100">
					<li class="nav-item">
						<a href="https://openwebwork.github.io/pg-docs/pod" class="nav-link p-0">WeBWorK POD Home</a>
					</li>
					<li class="nav-item">
						<a href="http://webwork.maa.org/wiki/WeBWorK_Main_Page" class="nav-link p-0">WeBWorK Wiki</a>
					</li>
					<li><hr></li>
<li class="nav-item"><a class="nav-link p-0" href="#NAME">NAME</a>
    <ul class="nav flex-column w-100">
      <li class="nav-item"><a class="nav-link p-0" href="#checkCourseDirectories">checkCourseDirectories</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#checkCourseLinks">checkCourseLinks</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#updateCourseDirectories">updateCourseDirectories</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#updateCourseLinks">updateCourseLinks</a></li>
    </ul>
  </li>				</ul>
			</nav>
		</div>
	</aside>
	<div class="pod-page-container d-flex">
		<div class="container-fluid p-3 h-100" id="_podtop_">


<a href="#_podtop_"><h1 id="NAME">NAME</h1></a>

<p>WeBWorK::Utils::CourseDirectoryIntegrityCheck - Check that course directory structure is correct.</p>

<h2 id="checkCourseDirectories">checkCourseDirectories</h2>

<p>Usage: <code>checkCourseDirectories($ce)</code></p>

<p>Checks the course directories to make sure they exist and have the correct permissions.</p>

<h2 id="checkCourseLinks">checkCourseLinks</h2>

<p>Usage: <code>checkCourseLinks($ce)</code></p>

<p>Checks the course links to make sure they exist, and point to the correct path. Note that there are no checks for permissions. Permissions of symbolic links themselves don&#39;t matter and can&#39;t actually be changed, and the link targets are system directories that do not belong to the course. It is the responsibility of the system administrator to ensure that the system directories the links point to have the correct permissions. That should be done when webwork2 is installed, and not when upgrading a course.</p>

<h2 id="updateCourseDirectories">updateCourseDirectories</h2>

<p>Usage: <code>updateCourseDirectories($ce)</code></p>

<p>Check to see if all course directories exist and have the correct permissions.</p>

<p>If a directory does not exist, then it is copied from the model course if the corresponding directory exists in the model course, and is created otherwise.</p>

<p>If the permissions are not correct, then an attempt is made to correct the permissions. The permissions are expected to match the course root directory. If the permissions of the course root directory are not correct, then that will need to be manually fixed. This method does not check that.</p>

<h2 id="updateCourseLinks">updateCourseLinks</h2>

<p>Usage: <code>updateCourseLinks($ce)</code></p>

<p>Check to see if all course links exist and have the correct permissions.</p>

<p>If a link does not exist, then it is created according to the link specifications defined in the course environment.</p>

<p>Note that no attempt to fix permissions is made. Even the linux command line <code>chmod</code> utility cannot change symbolic link permissions.</p>

		</div>
	</div>
</body>
</html>
